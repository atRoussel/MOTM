<!DOCTYPE html>
<html>

<head>
    <script src="https://kit.fontawesome.com/a076d05399.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>


        html, body, h1, h2, h3, h4, h5 {
            font-family: "Raleway", sans-serif
        }
    </style>
</head>
<body style="background-color: aliceblue; padding-bottom: 100px">
<div class="w3-bar w3-top w3-large" style="z-index:4; background-color:#0f3057; height: 8%">
    <h1 class="w3-left" style="color: white; font-family: 'Baskerville Old Face' ; margin-left:10px"> Mood Of The
        Month</h1>
    <img src="/assets/logo_mini.png" class="w3-right" style="height: 90%; margin-top: 3px; margin-right: 0">
</div>
<nav class="w3-sidebar w3-collapse w3-white w3-animate-left" style="z-index:3;width:300px" id="mySidebar"><br>
    <div class="w3-container w3-row">
        <div class="w3-col s8 w3-bar" style="margin-top: 10px">
            <span>    Bienvenue, <strong>Administrateur</strong></span><br>
        </div>
    </div>
    <hr>
    <div class="w3-container">
        <h5>Menu</h5>
    </div>
    <div class="w3-bar-block">
        <a href="/statistics" class="w3-bar-item w3-button w3-padding"><i class="fa fa-bar-chart-o fa-fw"></i>
            Statistiques</a>
        <a href="/user-list" class="w3-bar-item w3-button w3-padding"><i class="fa fa-users fa-fw"></i> Utilisateurs</a>
        <a href="/add-survey" class="w3-bar-item w3-button w3-padding " style="background-color: #00587a;color:white"><i
                class="fa fa-plus fa-fw"></i> Ajouter un sondage</a>
        <a href="/" class="w3-bar-item w3-button w3-padding"><i class="fa fa-eye fa-fw"></i> Voir sondage en cours</a>
    </div>
</nav>

<div class="container-fluid"
     style="width:78%;height:100%;margin-left:300px;margin-top:43px;margin-bottom: 40px;padding-top: 50px">
    <div class="card">
        <div class="card-header" style="background-color:#008891; color: white"> Liste des sondages</div>
        <div class="card-body">

            <div *ngIf="surveys.length===0">
                <h5 style="text-align: center">Votre liste de sondage est vide ! </h5>
            </div>
            <div *ngIf="surveys.length!==0">
                <table class="table table-striped table-bordered table-hover">
                    <thead class="thead">
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Nom</th>
                        <th scope="col">Description</th>
                        <th scope="col">Action</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr *ngFor="let survey of surveys">
                        <td>{{survey.id}}</td>
                        <td>{{survey.title}}</td>
                        <td>{{survey.description}}</td>
                        <td>
                            <span *ngIf="survey.id !== surveys[surveys.length -1].id" (click)="deleteSurvey(survey.id)" type="button" class="btn btn-danger" style="margin-left:10px; margin-right: 10px"><i class="fa fa-trash"></i></span>
                            <span *ngIf="survey.id === surveys[surveys.length -1].id" type="button" class="btn btn-secondary" style="margin-left:10px; margin-right: 10px"><i class="fa fa-trash"></i></span>
                            <button type="button" class="btn btn-danger" style="margin-left:10px; margin-right: 10px; background-color: #0f3057; border-color: #0f3057"><i class="fa fa-chevron-right"></i></button>
                            <span *ngIf="survey.id === surveys[surveys.length -1].id" >Sondage en cours ...</span>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>

      </div>
    </div>
</div>


<div class="container-fluid" style="width:60%;height:100%;margin-left:30%;padding-top: 10px">
    <div class="card  shadow-sm" style="margin-top: 50px;align-self: center">
        <div class="card-header"> Ajout d'un sondage </div>
        <div class="card-body" style="padding-right: 5%">
            <span *ngIf="(title.value.length < 1)||(description.value.length < 1)||(question.value.length < 1)"
                  style="color: red"> Tous les champs suivis de * doivent être remplis.</span>
            <form>
                <div class="form-group">
                    <label style="margin-top: 20px">
                        Titre
                    </label>
                    <input #title placeholder="Titre du sondage" type="text" class="form-control" name="name" ngModel required/>
                </div>
                <div class="form-group">
                    <label style="margin-top: 20px" for="description">
                        Description
                    </label>
                    <input #description placeholder="Description du sondage" type="text" id="description" class="form-control" name="description" ngModel required/>
                </div>

                <div class="form-group">
                    <label style="margin-top: 20px" class="required" for="question">
                        Question générale pour le mood du mois :
                    </label>
                    <input #question placeholder="Comment allez-vous ce mois-çi ?" type="text" id="question"
                           class="form-control" name="question" ngModel>
                </div>
                <hr style="margin-top: 40px"/>

                <div class="container-fluid" style="width: 100%">
                    <div class="row">
                        <div class="col col-10">
                            <p>Ajouter des questions personnalisées à votre sondage !</p>
                        </div>
                        <div class="col col-2">
                            <span class="btn btn-info" (click)="questionsSize.push('')"
                                  style="text-align: center; border-radius: 45px; margin-right: 5px"><i
                                    class="fa fa-plus"></i></span>
                            <span class="btn btn-danger" (click)="questionsSize.pop(); questionList.pop()"
                                  style="text-align: center; border-radius: 45px"><i class="fa fa-minus"></i></span>
                        </div>


                    </div>
                </div>


                <div class="form-group" *ngFor="let quest of questionsSize; let i = index">
                    <label style="margin-top: 15px">
                        Question n°{{i + 2}}
                    </label>
                    <input (change)="selectChangeHandler($event, i)" class="form-control" >
                </div>
                <hr style="margin-top: 40px"/>
                <div style="margin-top: 40px; margin-right: 0">
                    <span *ngIf="(title.value.length > 0)&&(description.value.length > 0)&&(question.value.length > 0)"
                          class="btn btn-info float-right" style="width: 100px"
                          (click)="addSurvey(title.value, description.value, question.value, selectedId)">Ajouter</span>
                    <span *ngIf="(title.value.length < 1)||(description.value.length < 1)||(question.value.length < 1)"
                          class="btn btn-secondary float-right" style="width: 100px">Ajouter</span>
                </div>
            </form>
        </div>
    </div>

</div>
</body>
<script src="bootstrap.min.js"></script>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>

</html>

